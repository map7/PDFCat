<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
       "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
<head>
  <meta http-equiv="content-type" content="text/html;charset=UTF-8" />
  <title><%= SITE_NAME %> :<%= controller.action_name %></title>
  <%= stylesheet_link_tag 'application' %>
  <%= stylesheet_link_tag 'scaffold' %>

  <%= javascript_include_tag 'prototype' %>
  <%= javascript_include_tag :defaults %>

  <!-- Calculate the size of a window -->
  <script>
    var winW = 630, winH = 460;

      if (parseInt(navigator.appVersion)>3) {
        if (navigator.appName=="Netscape") {
          winW = window.innerWidth;
          winH = window.innerHeight;
        }
  
      if (navigator.appName.indexOf("Microsoft")!=-1) {
        winW = document.body.offsetWidth;
        winH = document.body.offsetHeight;
      }
    }
  </script>

</head>
<body>
	<!-- Nav keys -->
	<%= shortcut '1', "#{BASE_URL}/new" %>
	<%= shortcut '2', "#{BASE_URL}/pdfs" %>
	<%= shortcut '3', "#{BASE_URL}/clients" %>
	<%= shortcut '4', "#{BASE_URL}/categories" %>


	<%= shortcut_function '?', "Element.toggle('help');"  %>


	<!-- General shortcuts -->
	<%= shortcut_function 'a', "$('newajax').onclick( )" %> 
	<%= shortcut_function '+', "$('newajax').onclick( )" %> 


	<!-- Back - hide_form & hide_all are in the application.js file.-->
	<%= shortcut_function 'b', "hide_form()" %>
	
	<!-- ESC key done using Hex 
	     1B(hex base 16) = 27 (decimal base 10)
	     We do this so that it hits a different area of the shortcut.js, it checks the KeyCode instead of the code.-->
	<%= shortcut_function '\x1B', "hide_all()" %>               

	<!-- Accept key (F11) -->
	<%= shortcut_function 'z', "$('apply').click( )" %>         <!-- Click a button called 'apply' -->


	<div id="content">
	  <p style="color: green"><%= flash[:notice] %></p>

	  <div id="contentBox">

	    <!-- Add/Edit/Show Area -->
	    <div id="ajaxForm" style="display:none">
	      <div id="ajaxFormInner"></div>
	    </div>

	    <div id="contentInner">
	      <%= yield  %>
	    </div>
	  </div>
	</div>

<div id=help style="display:none">
	<h2>HELP - Shortcut Keys</h2>
	<b>Page Navigation</b><br />
	New Page      = 1<br />
	Pdfs Page     = 2<br />
	Client Page   = 3<br />
	Category Page = 4<br />
	<br />
	<b>Listing Navigation</b><br />
	Search		  = s<br />
	<br />
	<b>Item Management</b><br />
	Add new item  = a or +<br />
	Edit item     = e or *<br />
	Destroy item  = d or -<br />
	Show item     = s or /<br />
	Email item    = m<br />
</div>

<!-- INFO -->
<div id="modeKeys" style="display:none"></div>
<div id="info" style="display:none">
  <div class="pad1"></div>    
  <div id="mode"></div>
</div>

<!-- Get keys from /help/general file -->
<div id="keys" class="rightPanel" style="display:none">
  <!-- Refer to PAIS 3 to install yamlhelp plugin and fill in this section -->

</div>



<div class="nav">
  <div class="pad1"></div>
  <%= link_to '<div class="menuitem">1-New</div>', :controller => 'new' %>
  <%= link_to '<div class="menuitem">2-Pdf</div>', :controller => 'pdfs' %>
  <%= link_to '<div class="menuitem">3-Client</div>', :controller => 'clients' %>
  <%= link_to '<div class="menuitem">4-Category</div>', :controller => 'categories' %>
  <%= link_to_function '<div class="menuitem">?-Help</div>', "Element.toggle('help');" %>
</div>

<div id=foot>
  <div class="pad1"></div>

  <div id=footerRight>
      <span id="footerAPP">PDFCat 2.1</span>
  </div>
</div>



</body>
</html>
